function setImgWidth(t,f,i,h,l,o,d){for(var r=t.find("div.gallery-img-in img"),a=function(t){var i;0===t.height()?i=setInterval(function(){clearInterval(i),a(t)},10):function(t){var i=t.width();if(!(0<i))return;var r=t.height(),a=100,e=0,n=0;if(0==f){var v=0;0<l&&(v+=2*l);var s=d-v;a=i<=o-v&&r<=s?"auto":(s<r&&(i*=s/r,r=s),o<i&&(r*=o/i,i=o),i/o*100+"%"),e=(o-i)/2/o*100,n=(d-r)/2/d*100,t.css({width:a,left:e+"%",top:n+"%"})}else{var c=r*((o-2*(h+1))/i);c<d?(a=(i*=d/r)/o*100,e=0-(i-o)/2/o*100):n=0-((r=c)-d)/2/d*100,t.css({width:a+"%",left:e+"%",top:n+"%"})}}(t)},e=0;e<r.length;e++){var n=$(r[e]);n.css({width:"auto"});var v=new Image;v.index=e,a($(r[e])),v.src=n.attr("src")}}