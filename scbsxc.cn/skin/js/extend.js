function isImgLoad(t){var i,e=!0;($(".g-cover").each(function(){0===$(this).height()&&(e=!1)}),e)?t():i=setInterval(function(){clearInterval(i),isImgLoad(t)},100)}!function(m,t){var e={ratio:"auto",style:"fade",speend:5,autoplay:1,showcotrols:1,captionpos:0,navstyle:0,navlocation:0,disabled:!1};function s(t,i){this.element=t,this.$element=m(t),this.$items=null,this.curIndex=0,this.options=m.extend({},e,i),this.playtime=null,this.allimg=null,this.imginfo=[],this.curheight=0,this.curSubIndex=0,this._init()}s.prototype={_init:function(){this.$items=this.$element.find("div.slide-item"),this._setShowCotrols(),this._setCaptionPos(),this._setNavigation(),this._initSize(),this.options.disabled||this._initEvent(),this._autoPlay()},_initSize:function(){var i=this;this.allimg=this.$element.find("div.slide-item img");for(var e=1,t=0;t<this.allimg.length;t++){var s=m(this.allimg[t]),n=new Image;n.index=t,n.onload=function(){var t=parseInt(this.index);i.imginfo[i.imginfo.length]={index:t,width:this.width,height:this.height},e==i.allimg.length&&i._setSize(),0<t&&m(i.$items[t]).hide(),e++},n.src=s.attr("src")}},_initEvent:function(){var i=this,t=this.$element.find("div.cycle-prev:first"),e=this.$element.find("div.cycle-next:first");t.click(function(){if("1"==m(this).data("play"))return"";m(this).data("play","1"),i._stopPlay();var t=i.curIndex-1;return t<0&&(t=i.$items.length-1),i._play(t),i._add_active(t),i._autoPlay(),!1}),e.click(function(){if("1"==m(this).data("play"))return"";m(this).data("play","1"),i._stopPlay();var t=i.curIndex+1;return t>i.$items.length-1&&(t=0),i._play(t),i._add_active(t),i._autoPlay(),!1})},_setSize:function(){var t=this.$element.width(),i=0;if("auto"!=this.options.ratio){var e=this.options.ratio.split(":"),s=parseInt(e[0]),n=parseInt(e[1]);i=parseInt(t/s*n)}for(var a=0;a<this.allimg.length;a++){for(var o=m(this.allimg[a]),l=null,h=0;h<this.imginfo.length;h++)a==this.imginfo[h].index&&(l=this.imginfo[h]);var d=l.width,c=l.height;t<d&&(c*=t/d,d=t),"auto"==this.options.ratio?(i=i<c?c:i,i=parseInt(i)):i<c&&(d*=i/c,c=i,d=parseInt(d)),o.css({width:d}),o.parent().css({width:d,left:0-parseInt(d/2),top:0-parseInt(c/2)})}this.$element.find(".w-slide-content").css("height",i),this._setNavigation()},_autoPlay:function(){if(1==this.options.autoplay){var i=this;this.playtime=t.setInterval(function(){var t;i._play(),t=i.curIndex+1>=i.$items.length?0:i.curIndex+1,i._add_active(t)},1e3*i.options.speend)}},_stopPlay:function(){1==this.options.autoplay&&null!=this.playtime&&t.clearInterval(this.playtime)},_closeAutoPlay:function(){null!=this.playtime&&(clearInterval(this.playtime),this.playtime=null)},_getNextIndex:function(t){return"number"==typeof t?t:this.curIndex>=this.$items.length-1?0:this.curIndex+1},_play:function(t){var i=this,e=this._getNextIndex(t);if("fade"==this.options.style&&m(this.$items[this.curIndex]).fadeOut(function(){i.curIndex=e,m(i.$items[i.curIndex]).fadeIn("fast"),i._elementPaly(i)}),"slide"==this.options.style){var s=this.$element.width();m(this.$items[e]).css("left",s).show(),m(this.$items[this.curIndex]).animate({left:0-s},500,function(){m(this).hide().css("left",0),i._elementPaly(i)}),m(this.$items[e]).animate({left:0}),this.curIndex=e}if("fold"==this.options.style||"slice"==this.options.style){var n=m(this.$items[this.curIndex]);n.css("z-index",1),this.curIndex=e;var a=m(this.$items[e]);a.css("z-index",2);var o=a.find(".slide-img");o.css("opacity",0),a.show();for(var l=m(a.find(".slide-item-div-inner")),h=l.width(),d=l.height(),c=h/12,r='<div class="slide-img-block">',p=a.find("img").attr("src"),f=0;f<12;f++)r+='<div style="',"fold"==this.options.style?r+="width:0px;left:"+c*f+"px;":"slice"==this.options.style&&(r+="width:"+c+"px;left:"+c*f+"px;"),r+="opacity:0;position:absolute;top:0;height:"+d+'px;overflow:hidden;">',r+='<img src="'+p+'" style="width:'+h+"px;top:0;left:-"+c*f+'px;position:absolute;dispaly:block;max-width:none;" /></div>';r+="</div>",l.append(r);var u=0,v=a.find(".slide-img-block").children();"fold"==this.options.style?v.each(function(){m(this).animate({width:c,opacity:1},100*u,function(){v.index(m(this))==v.length-1&&2!=n.css("z-index")&&(o.css("opacity",1),n.fadeOut(),a.find(".slide-img-block").remove())}),u++}):"slice"==this.options.style&&(this.curSubIndex=0,v.each(function(){v.index(m(this));m(this).animate({opacity:1},150*u,function(){v.index(m(this))==v.length-1&&2!=n.css("z-index")&&(o.css("opacity",1),n.fadeOut(),a.find(".slide-img-block").remove())}),u++})),setTimeout(function(){i._elementPaly(i)},150*u)}},_elementPaly:function(t){t.$element.find(".cycle-prev").data("play","0"),t.$element.find(".cycle-next").data("play","0"),t.$element.find(".slide-page>a").each(function(){"1"===m(this).data("play")&&m(this).data("play","0")})},_sliceAction:function(t,i,e,s,n){var a=this;if(this.curSubIndex>=t.length-1)return e.css("opacity",1),n.hide(),s.find(".slide-img-block").remove(),!1;m(t[this.curSubIndex]).animate({opacity:1},50,function(){a.curSubIndex++,a._sliceAction(t,i,e,s,n)})},_setCaptionPos:function(){var t=this.$element.children().get(0);1==this.options.captionpos?m(t).addClass("slide-caption-top"):m(t).removeClass("slide-caption-top")},_setShowCotrols:function(){var t=this.$element.find("div.cycle-prev:first"),i=this.$element.find("div.cycle-next:first");1==this.options.showcotrols?(t.show(),i.show()):(t.hide(),i.hide())},_add_active:function(t){var i=this.$element.find(".slide-page").children("a");i.eq(t).siblings("a").removeClass("active"),i.eq(t).addClass("active")},_setNavigation:function(){var t=this.$element.find(".slide-page");if(0<t.length&&t.remove(),0<this.options.navstyle){var i=this,e=m(this.$element.children().get(0)),s=m(e.children().get(0));if(1==this.options.captionpos)var n="w-slide-page-img slide-caption-top",a="w-slide-page-num slide-caption-top";else n="w-slide-page-img",a="w-slide-page-num";var o=1==this.options.navstyle?a:n;e.attr("class",o),o="";var l=m(this._getNavHtml());this.options.disabled||l.find("a").each(function(){m(this).on("click",function(){return"1"==m(this).data("play")?"":(m(this).data("play","1"),i._stopPlay(),i._play(parseInt(m(this).attr("data-index"))),i._add_active(parseInt(m(this).attr("data-index"))),i._autoPlay(),!1)})}),s.append(l);var h=m(this.$element.find(".w-slide-content:first"));switch(this.options.navlocation){case 0:o="w-page-bottom";break;case 1:o="w-page-top";break;case 2:o="w-page-left";break;case 3:o="w-page-right"}switch(this.options.navlocation){case 0:case 1:var d=h.outerWidth(!0);if(80*(r=l.find("img")).length>d){var c=d/r.length;r.css("width",c-10)}break;case 2:case 3:var r,p=h.outerHeight(!0);if(80*(r=l.find("img")).length>p){var f=p/r.length;r.css("height",f-10)}}s.attr("class",o)}},_getNavHtml:function(){for(var t='<div class="slide-page">',i=this.$items.length,e=0;e<i;e++)if(1==this.options.navstyle)e===this.curIndex?t+='<a href="javascript:void(0);" data-index="'+e+'" class="active"> '+(e+1)+" </a>":t+='<a href="javascript:void(0);" data-index="'+e+'"> '+(e+1)+" </a>";else if(2==this.options.navstyle){var s=m(this.$items[e]);s=s.find("img.slide-img"),e===this.curIndex?t+='<a href="javascript:void(0)" data-index="'+e+'" class="active"><img src="'+s.attr("src")+'"></a>':t+='<a href="javascript:void(0)" data-index="'+e+'"><img src="'+s.attr("src")+'"></a>'}return t+="</div>"},option:function(t,i){return"number"==typeof this.options[t]&&(i=parseInt(i)),this.options[t]=i,"ratio"==t&&this._setSize(),"autoplay"!=t&&"speend"!=t||(this._closeAutoPlay(),this._autoPlay()),"showcotrols"==t&&this._setShowCotrols(),"navstyle"!=t&&"navlocation"!=t||this._setNavigation(),this._setCaptionPos(),this.options[t]}},m.fn.slide=function(i){var e=arguments;return void 0===i||"object"==typeof i?this.each(function(){m.data(this,"slide")||m.data(this,"slide",new s(this,i))}):"string"==typeof i&&"_"!==i[0]?this.each(function(){var t=m.data(this,"slide");t instanceof s&&"function"==typeof t[i]&&t[i].apply(t,Array.prototype.slice.call(e,1)),"destroy"===i&&m.data(this,"slide",null)}):void 0}}(jQuery,window);var allIsImgLoad=function(e,s){var n=new Array;e.each(function(t){if($(this).load(function(){n[t]=!0,n.length==e.length&&s()}),0<window.navigator.userAgent.indexOf("Chrome/42.0"))var i=$(this).attr("src")+"?"+Date.parse(new Date);else i=$(this).attr("src");$(this).attr("src",i)})};